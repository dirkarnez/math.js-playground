<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/13.0.2/math.min.js" integrity="sha512-eHnr7xsiTjs+o34SmeN4c8tTGmWC1Q5g5OTBIjl/LFhFKhRpkuF7MCZpC7VQKqWVp88h82xZE/6Xp9azhcnDnA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style> 
        div {
            -webkit-box-sizing: border-box;
               -moz-box-sizing: border-box;
                    box-sizing: border-box;
        }
        
        textarea {
          width: 100%;
          height: 100%;
              -webkit-box-sizing: border-box;
               -moz-box-sizing: border-box;
                    box-sizing: border-box;
        }
        
        code {
            background: #eee;
        }
        
        .textarea-wrapper {
          width: 100%;
          height: 100px;
        }
    </style>
</head>
<body>
    <a href="https://github.com/dirkarnez/math.js-playground">dirkarnez/math.js-playground</a><br>
    <p>Try <code>derivative('x^2', 'x')</code></p>
    <div class="textarea-wrapper">
    	<textarea id="input" placeholder="derivative('x^2', 'x')"></textarea>
    </div>
    <div id="log"></div>
    <p>
        <button><code>simplify("x + x")</code></button><br>
             sqrt(-4)
        <button><code>derivative('x^2 * cos(3x)', 'x')</code></button> (Differentiate by parts)<br>
        <button><code>derivative('3x^2+2y', 'x')</code></button> (<a href="https://www.youtube.com/watch?v=Kp7sSp5Kn7o">Partial Differential Equation</a>)<br>
        <button><code>complex(3, 4).abs()</code></button><br>
        <button><code>matrix([[5, 6], [1, 1]])</code></button><br>
det(matrix([[1,2,3],[3,2,1],[2,1,3]]))
trace(matrix([[1,2,3],[3,2,1],[2,1,3]]))
transpose(matrix([[1,2,3],[3,2,1],[2,1,3]]))
        <button><code>sin(90 deg)</code></button><br>
        <button><code>zeros(2, 2)</code></button><br>
   
        <button><code>2 inch to cm</code></button>
    </p>

    <script>
        const input = document.getElementById("input");
        const log = document.getElementById("log");
        
        input.addEventListener("input", e => {
            const value = e.target.value;
        	log.textContent = !!value ? `${(() => {
                try {
                    const returnValue = math.evaluate(e.target.value);
                    return `${returnValue}`.startsWith(`function`) ? "<A function is defined>" : returnValue;
                } catch (e) {
                    return "<Invalid>";
                }
            })()}` : "";
        })
    </script>
    <script>
        console.log(math.sqrt(-4).toString()) // 2i/

        const scope = {
            a: 3,
            b: 4
        }

        // variable assignments are written to the scope
        console.log(('c = 2.3 + 4.5', scope)) // 6.8
        console.log(scope.c) // 6.8

        // scope can contain both variables and functions
        scope.hello = function (name) {
            return 'hello, ' + name + '!'
        }

        console.log(math.evaluate('hello("hero")', scope)) // "hello, hero!"
        
        // define a function as an expression
        const f = math.evaluate('f(x) = x ^ a', scope)
        console.log(f(2)) // 8
        console.log(scope.f(2)) // 8

        // ODE, PDE
        console.log(math.derivative('x^2', 'x'));
    </script>
</body>

</html>












